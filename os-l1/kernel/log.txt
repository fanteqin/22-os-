# Building kernel-run [x86_64-qemu]
mkdir -p /home/zxq/os-workbench/kernel/build/x86_64-qemu/framework/ && echo + CC framework/main.c
x86_64-linux-gnu-gcc -std=gnu11 -DDEBUG_LOCAL -O2 -MMD -Wall -Werror -Iinclude/ -Iframework/ -I/home/zxq/os-workbench/kernel/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/kernel/build/x86_64-qemu/framework/main.o -g /home/zxq/os-workbench/kernel/framework/main.c
mkdir -p /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/ && echo + CC src/os.c
x86_64-linux-gnu-gcc -std=gnu11 -DDEBUG_LOCAL -O2 -MMD -Wall -Werror -Iinclude/ -Iframework/ -I/home/zxq/os-workbench/kernel/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/os.o -g /home/zxq/os-workbench/kernel/src/os.c
mkdir -p /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/ && echo + CC src/pmm.c
x86_64-linux-gnu-gcc -std=gnu11 -DDEBUG_LOCAL -O2 -MMD -Wall -Werror -Iinclude/ -Iframework/ -I/home/zxq/os-workbench/kernel/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/pmm.o -g /home/zxq/os-workbench/kernel/src/pmm.c
mkdir -p /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/ && echo + CC src/dev/dev_video.c
x86_64-linux-gnu-gcc -std=gnu11 -DDEBUG_LOCAL -O2 -MMD -Wall -Werror -Iinclude/ -Iframework/ -I/home/zxq/os-workbench/kernel/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/dev_video.o -g /home/zxq/os-workbench/kernel/src/dev/dev_video.c
mkdir -p /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/ && echo + CC src/dev/dev_sd.c
x86_64-linux-gnu-gcc -std=gnu11 -DDEBUG_LOCAL -O2 -MMD -Wall -Werror -Iinclude/ -Iframework/ -I/home/zxq/os-workbench/kernel/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/dev_sd.o -g /home/zxq/os-workbench/kernel/src/dev/dev_sd.c
mkdir -p /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/ && echo + CC src/dev/dev.c
x86_64-linux-gnu-gcc -std=gnu11 -DDEBUG_LOCAL -O2 -MMD -Wall -Werror -Iinclude/ -Iframework/ -I/home/zxq/os-workbench/kernel/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/dev.o -g /home/zxq/os-workbench/kernel/src/dev/dev.c
mkdir -p /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/ && echo + CC src/dev/dev_tty.c
x86_64-linux-gnu-gcc -std=gnu11 -DDEBUG_LOCAL -O2 -MMD -Wall -Werror -Iinclude/ -Iframework/ -I/home/zxq/os-workbench/kernel/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/dev_tty.o -g /home/zxq/os-workbench/kernel/src/dev/dev_tty.c
mkdir -p /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/ && echo + CC src/dev/dev_input.c
x86_64-linux-gnu-gcc -std=gnu11 -DDEBUG_LOCAL -O2 -MMD -Wall -Werror -Iinclude/ -Iframework/ -I/home/zxq/os-workbench/kernel/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/dev_input.o -g /home/zxq/os-workbench/kernel/src/dev/dev_input.c
mkdir -p /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/ && echo + CC src/kmt.c
x86_64-linux-gnu-gcc -std=gnu11 -DDEBUG_LOCAL -O2 -MMD -Wall -Werror -Iinclude/ -Iframework/ -I/home/zxq/os-workbench/kernel/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/kmt.o -g /home/zxq/os-workbench/kernel/src/kmt.c
make -s -C /home/zxq/os-workbench/kernel/../abstract-machine/am archive
# Building am-archive [x86_64-qemu]
mkdir -p /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/ && echo + AS src/x86/qemu/start64.S
x86_64-linux-gnu-gcc -MMD -I/home/zxq/os-workbench/kernel/../abstract-machine/am/src -I/home/zxq/os-workbench/abstract-machine/am/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -m64 -fPIC -c -o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/start64.o -g /home/zxq/os-workbench/abstract-machine/am/src/x86/qemu/start64.S
mkdir -p /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/ && echo + AS src/x86/qemu/trap64.S
x86_64-linux-gnu-gcc -MMD -I/home/zxq/os-workbench/kernel/../abstract-machine/am/src -I/home/zxq/os-workbench/abstract-machine/am/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -m64 -fPIC -c -o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/trap64.o -g /home/zxq/os-workbench/abstract-machine/am/src/x86/qemu/trap64.S
mkdir -p /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/ && echo + CC src/x86/qemu/trm.c
x86_64-linux-gnu-gcc -std=gnu11 -O2 -MMD -Wall -Werror -I/home/zxq/os-workbench/kernel/../abstract-machine/am/src -I/home/zxq/os-workbench/abstract-machine/am/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/trm.o -g /home/zxq/os-workbench/abstract-machine/am/src/x86/qemu/trm.c
mkdir -p /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/ && echo + CC src/x86/qemu/cte.c
x86_64-linux-gnu-gcc -std=gnu11 -O2 -MMD -Wall -Werror -I/home/zxq/os-workbench/kernel/../abstract-machine/am/src -I/home/zxq/os-workbench/abstract-machine/am/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/cte.o -g /home/zxq/os-workbench/abstract-machine/am/src/x86/qemu/cte.c
mkdir -p /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/ && echo + CC src/x86/qemu/ioe.c
x86_64-linux-gnu-gcc -std=gnu11 -O2 -MMD -Wall -Werror -I/home/zxq/os-workbench/kernel/../abstract-machine/am/src -I/home/zxq/os-workbench/abstract-machine/am/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/ioe.o -g /home/zxq/os-workbench/abstract-machine/am/src/x86/qemu/ioe.c
mkdir -p /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/ && echo + CC src/x86/qemu/vme.c
x86_64-linux-gnu-gcc -std=gnu11 -O2 -MMD -Wall -Werror -I/home/zxq/os-workbench/kernel/../abstract-machine/am/src -I/home/zxq/os-workbench/abstract-machine/am/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/vme.o -g /home/zxq/os-workbench/abstract-machine/am/src/x86/qemu/vme.c
mkdir -p /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/ && echo + CC src/x86/qemu/mpe.c
x86_64-linux-gnu-gcc -std=gnu11 -O2 -MMD -Wall -Werror -I/home/zxq/os-workbench/kernel/../abstract-machine/am/src -I/home/zxq/os-workbench/abstract-machine/am/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/mpe.o -g /home/zxq/os-workbench/abstract-machine/am/src/x86/qemu/mpe.c
echo + AR "->" build/am-x86_64-qemu.a
ar rcs /home/zxq/os-workbench/abstract-machine/am/build/am-x86_64-qemu.a /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/start64.o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/trap64.o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/trm.o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/cte.o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/ioe.o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/vme.o /home/zxq/os-workbench/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/mpe.o
make -s -C /home/zxq/os-workbench/kernel/../abstract-machine/klib archive
# Building klib-archive [x86_64-qemu]
mkdir -p /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/ && echo + CC src/stdlib.c
x86_64-linux-gnu-gcc -std=gnu11 -O2 -MMD -Wall -Werror -I/home/zxq/os-workbench/abstract-machine/klib/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/stdlib.o -g /home/zxq/os-workbench/abstract-machine/klib/src/stdlib.c
mkdir -p /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/ && echo + CC src/stdio.c
x86_64-linux-gnu-gcc -std=gnu11 -O2 -MMD -Wall -Werror -I/home/zxq/os-workbench/abstract-machine/klib/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/stdio.o -g /home/zxq/os-workbench/abstract-machine/klib/src/stdio.c
mkdir -p /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/ && echo + CC src/string.c
x86_64-linux-gnu-gcc -std=gnu11 -O2 -MMD -Wall -Werror -I/home/zxq/os-workbench/abstract-machine/klib/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/string.o -g /home/zxq/os-workbench/abstract-machine/klib/src/string.c
mkdir -p /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/ && echo + CC src/cpp.c
x86_64-linux-gnu-gcc -std=gnu11 -O2 -MMD -Wall -Werror -I/home/zxq/os-workbench/abstract-machine/klib/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/cpp.o -g /home/zxq/os-workbench/abstract-machine/klib/src/cpp.c
mkdir -p /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/ && echo + CC src/int64.c
x86_64-linux-gnu-gcc -std=gnu11 -O2 -MMD -Wall -Werror -I/home/zxq/os-workbench/abstract-machine/klib/include -I/home/zxq/os-workbench/kernel/../abstract-machine/am/include/ -I/home/zxq/os-workbench/kernel/../abstract-machine/klib/include/ -D__ISA__=\"x86_64\" -D__ISA_X86_64__ -D__ARCH__=x86_64-qemu -D__ARCH_X86_64_QEMU -D__PLATFORM__=qemu -D__PLATFORM_QEMU -DARCH_H=\"arch/x86_64-qemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -m64 -fPIC -mno-sse -c -o /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/int64.o -g /home/zxq/os-workbench/abstract-machine/klib/src/int64.c
echo + AR "->" build/klib-x86_64-qemu.a
ar rcs /home/zxq/os-workbench/abstract-machine/klib/build/klib-x86_64-qemu.a /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/stdlib.o /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/stdio.o /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/string.o /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/cpp.o /home/zxq/os-workbench/abstract-machine/klib/build/x86_64-qemu/src/int64.o
echo + LD "->" build/kernel-x86_64-qemu.elf
x86_64-linux-gnu-ld -melf_x86_64 -N -Ttext-segment=0x00100000 -o /home/zxq/os-workbench/kernel/build/kernel-x86_64-qemu.elf --start-group /home/zxq/os-workbench/kernel/build/x86_64-qemu/framework/main.o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/os.o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/pmm.o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/dev_video.o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/dev_sd.o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/dev.o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/dev_tty.o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/dev/dev_input.o /home/zxq/os-workbench/kernel/build/x86_64-qemu/./src/kmt.o /home/zxq/os-workbench/kernel/../abstract-machine/am/build/am-x86_64-qemu.a /home/zxq/os-workbench/kernel/../abstract-machine/klib/build/klib-x86_64-qemu.a --end-group
echo \# Creating image [x86_64-qemu]
find ../.shadow/ -maxdepth 1 -type d -name '[a-z]*' | xargs rm -rf
cp -r `find .. -maxdepth 1 -type d -name '[a-z]*'` ../.shadow/
git add ../.shadow -A --ignore-errors
while (test -e .git/index.lock); do sleep 0.1; done
(uname -a && uptime) | git commit -F - -q --author='tracer-nju <tracer@nju.edu.cn>' --no-verify --allow-empty
sync
make -s -C /home/zxq/os-workbench/kernel/../abstract-machine/am/src/x86/qemu/boot
echo + CC start.S main.c
x86_64-linux-gnu-gcc -static -m32 -fno-pic -Os -nostdlib -Ttext 0x7c00 -I/home/zxq/os-workbench/kernel/../abstract-machine/am/src -o bootblock.o start.S main.c
python3 genboot.py bootblock.o
echo + CREATE "->" build/kernel-x86_64-qemu
( cat /home/zxq/os-workbench/kernel/../abstract-machine/am/src/x86/qemu/boot/bootblock.o; head -c 1024 /dev/zero; cat /home/zxq/os-workbench/kernel/build/kernel-x86_64-qemu.elf ) > /home/zxq/os-workbench/kernel/build/kernel-x86_64-qemu
( echo -n ; ) | dd if=/dev/stdin of=/home/zxq/os-workbench/kernel/build/kernel-x86_64-qemu bs=512 count=2 seek=1 conv=notrunc status=none
qemu-system-x86_64 -serial mon:stdio -machine accel=tcg -smp "" -drive format=raw,file=/home/zxq/os-workbench/kernel/build/kernel-x86_64-qemu -nographic
